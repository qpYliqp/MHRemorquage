---
// ServiceCard.astro
interface Props {
  title: string;
  description: string;
  icon: string;
  features?: string[];
  image: string;
}

const { title, description, icon, features = [], image } = Astro.props;
---

<div class="group relative max-w-lg h-full">
  <div class="absolute top-3 right-3 w-9 h-9 rounded-full bg-red-primary/10 flex items-center justify-center group-hover:bg-red-primary/20 transition-colors z-10">
    <svg class="w-5 h-5 text-red-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={icon}/>
    </svg>
  </div>
  
  <div class="relative bg-white rounded-2xl p-5 shadow-xl hover:shadow-2xl transition-all duration-300 border border-slate-200 h-full flex flex-col">
    <div class="space-y-3 mb-5 flex-grow">
      <h2 class="text-xl md:text-2xl font-bold tracking-tight" set:html={title}></h2>

      <p class="text-slate-600 leading-relaxed text-sm">
        {description}
      </p>
      {features && features.length > 0 && (
        <ul class="space-y-2.5">
          {features.map((feature) => (
            <li class="flex items-start gap-2.5 group/item">
              <div class="mt-0.5 flex-shrink-0 w-4.5 h-4.5 rounded-full bg-red-primary/10 flex items-center justify-center">
                <svg class="w-2.5 h-2.5 text-red-primary" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
              </div>
              <span class="text-slate-700 text-sm">
                {feature}
              </span>
            </li>
          ))}
        </ul>
      )}
    </div>

    <div class="relative aspect-video rounded-xl overflow-hidden flex-shrink-0">
      <div class="absolute -inset-1 bg-gradient-to-r from-red-primary/50 to-orange-500/50 rounded-xl blur-lg opacity-20 group-hover:opacity-30 transition-opacity"></div>
      
      <div class="relative h-full overflow-hidden rounded-xl ring-1 ring-slate-200">
        <img
          src={image}
          alt={title.replace(/<[^>]*>/g, '')}
          class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-101"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-slate-900/20 to-transparent"></div>
      </div>
    </div>
  </div>
  <div class="h-1 bg-gradient-to-r from-red-primary to-red-primary/50 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></div>
</div>